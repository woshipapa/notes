# 偏移寻址

基址寻址：

有个专门的基址寄存器（BR）base address register或者使用通用寄存器来存放基地址，但是此时在地址码中需要留出几bit指明哪个寄存器

同时不管是基址寄存器还是存放基地址的通用寄存器，只要指定了是存放基地址的，就由操作系统来负责，程序员不能直接修改其中的内容。

相比直接通过形式地址的直接寻址，中间加一层相当于间接寻址了，可以扩大寻址范围

![image-20230514112031534](C:\Users\papa\AppData\Roaming\Typora\typora-user-images\image-20230514112031534.png)

变址寻址：

SI,DI变址寄存器

是IX变址寄存器的值不断变化，是用户层可以修改的，地址码不变，地址码相当于基地址，（IX）相当于偏移，

和基址寻址正好相反，基址寻址是寄存器中为基地址，地址码为偏移，地址码不断变化。

变址寻址适合用于循环结构,地址码相当于数组的首地址，然后IX寄存器相当于基于首地址的偏移i。

现实中，可能多种寻址方式结合使用，因为一个程序基地址不一定就是从0开始，可能先进行基地址寻址然后再变址，比如先得到数组的基地址，这里要通过（(BR)+A）,然后再加上(IX)，偏移，就可以得到某个元素的地址了。

![image-20230514125811334](C:\Users\papa\AppData\Roaming\Typora\typora-user-images\image-20230514125811334.png)

相对寻址：

更适合于一段代码在程序中的移动，他是相对于PC而言的，一般用于跳转指令。





在进行cmp指令时，是通过PSW程序状态字寄存器，中各个比特位来判断跳转的。



![image-20230514132138505](C:\Users\papa\AppData\Roaming\Typora\typora-user-images\image-20230514132138505.png)

#### 堆栈寻址

取决于堆栈指针SP。操作数隐式的存放在堆栈中，通过堆栈指针来获取操作数。





基址寻址面向操作系统，基址寄存器中的内容用户不能修改，基址寄存器可以是通用寄存器或者专用寄存器，再指令的表示中要注意表示是**哪个寄存器还需要占一定的bit位**

基址寄存器中的值是基地址，不需要改变

变址寄存器适合数组处理和循环结构，其址需要不断修改，

再就是注意一下多种寻址方式的结合，比如变址完再间址，就是（（IX）+A），间址寄存器加完偏移的值还是一个形式地址，还需要进一步去访存就是开始间接寻址的步骤直到找到有效地址（操作数的存放地址）。



主存地址不能为负（无符号数），但是偏移量可以为负（用补码表示，数据最大范围折半）